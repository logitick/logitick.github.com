<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <title>TIL: You Can Get SSL Errors When You Migrate to a New IP Address - Paul Daniel Iway</title>
  
  <meta name="description" content="At work we have a Digital Ocean droplet serving some Wordpress sites. These had no Floating IPs which means if for some reason we needed to destroy the droplet and restore from a snapshot theres a large chance we would end up losing the IP address.
So I got approval from the higher-ups to start adding the Floating IP and update the DNS record of one of the sites.">
  <meta name="author" content="Paul Daniel Iway">
  <meta name="keywords" content="til, migration, apache, ssl, digital ocean">
  
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i" rel="stylesheet">
  <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/atom-one-dark.min.css" rel="stylesheet">
  <link href="https://pdiway.com/css/style.css" rel="stylesheet">

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/brands.css" integrity="sha384-rf1bqOAj3+pw6NqYrtaE1/4Se2NBwkIfeYbsFdtiR6TQz0acWiwJbv1IM/Nt/ite" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/fontawesome.css" integrity="sha384-1rquJLNOM3ijoueaaeS5m+McXPJCGdr5HcA03/VHXxcp2kX2sUrQDmFc3jR5i/C7" crossorigin="anonymous">
  
  <link rel="apple-touch-icon" href="https://pdiway.com/img/apple-touch-icon.png">
  <link rel="icon" href="https://pdiway.com/img/favicon.ico">
  
  <meta name="generator" content="Hugo 0.55.5">
  
  <link rel="alternate" type="application/atom+xml" href="https://pdiway.com/index.xml" title="Paul Daniel Iway">
  
</head>
<body class="single">
  <header class="header">
    
    <p class="title"><a href="https://pdiway.com/">Paul Daniel Iway</a></p>
    
    <nav class="menu">
      <ul>
        
        
        <li class="">
          <a href="/about/">About</a>
        </li>
        
        <li class="">
          <a href="/articles/">Articles</a>
        </li>
        
      </ul>
    </nav>
  </header>
  <main class="main">

<article class="post post-view">
  <header class="post-header">
    <h1 class="post-title">TIL: You Can Get SSL Errors When You Migrate to a New IP Address</h1>
    <p class="post-meta">Paul Daniel Iway · 2019.11.12</p>
  </header>
  <div class="post-content">

<p>At work we have a Digital Ocean droplet serving some Wordpress sites. These had no <a href="https://www.digitalocean.com/docs/networking/floating-ips/">Floating IPs</a> which means if for some reason we needed to destroy the droplet and restore from a snapshot theres a large chance we would end up losing the IP address.</p>

<p>So I got approval from the higher-ups to start adding the Floating IP and update the DNS record of one of the sites.</p>

<h3 id="lo-and-behold-ssl-error-rx-record-too-long">Lo and behold: <em>SSL_ERROR_RX_RECORD_TOO_LONG</em></h3>

<p>The sites in this hosted in this server were live production sites and I waited very late at night before I started doing this but it still didn&rsquo;t stop the <sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup>anxiety and panic from coming. I managed to collect myself after a few deep breaths.</p>

<p>Luckily some poor bastard had this problem before and managed to <a href="https://serverfault.com/questions/871244/ssl-error-rx-record-too-long-after-migrating-a-server">fixed it</a>.</p>

<p>In my end though the virtualhost was already listening to <code>_default_:443</code>. Turns out I had to let the web-based host manager know about the IP change too.</p>

<p>Who would have thought? I never did. Some other guy who knows better than me probably did but today I learned.</p>

<h4 id="shameless-plug">Shameless Plug</h4>

<p>Since you&rsquo;re here, are you on Digital Ocean yet? I use it for learning and side projects. Get free $50 in credits if you use my referral link. <a href="https://m.do.co/c/a375d2660292">https://m.do.co/c/a375d2660292</a></p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Anxiety and Panic as a system administrator is real (<a href="https://www.reddit.com/r/sysadmin/comments/36feld/dealing_with_anxiety_in_operations/)[https://www.reddit.com/r/sysadmin/comments/36feld/dealing_with_anxiety_in_operations/">https://www.reddit.com/r/sysadmin/comments/36feld/dealing_with_anxiety_in_operations/)[https://www.reddit.com/r/sysadmin/comments/36feld/dealing_with_anxiety_in_operations/</a>]
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
</ol>
</div>
</div>
  <footer class="post-footer">
    
    <ul class="post-tags">
      
      <li><a href="https://pdiway.com/tags/til/">til</a></li>
      
      <li><a href="https://pdiway.com/tags/migration/">migration</a></li>
      
      <li><a href="https://pdiway.com/tags/apache/">apache</a></li>
      
      <li><a href="https://pdiway.com/tags/ssl/">ssl</a></li>
      
      <li><a href="https://pdiway.com/tags/digital-ocean/">digital ocean</a></li>
      
    </ul>
    
  </footer>
  
  
  
  
</article>
</main>
<footer class="footer">
  <span>&copy; 2019 Paul Daniel Iway</span>
  <span>&middot;</span>
  <span>Powered by <a href="https://gohugo.io/" target="_blank">Hugo️️</a>️</span>
  <span>&middot;</span>
  <span>Designed by <a href="http://21beats.com/" target="_blank">️21beats️</a>️</span>
  <div>
    <span>
      <a href="https://github.com/logitick"><i class="fab fa-github"></i></a>
      <a href="https://www.linkedin.com/in/piway"><i class="fab fa-linkedin"></i></a>
    </span>
  </div>
</footer>
<script src="https://cdn.bootcss.com/instantclick/3.0.1/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js" data-no-instant></script>
<script data-no-instant>
  hljs.initHighlightingOnLoad();
  InstantClick.on('change', function() {
    var blocks = document.querySelectorAll('pre code');
    for (var i = 0; i < blocks.length; i++) {
      hljs.highlightBlock(blocks[i]);
    }
  });
</script>
</body>
</html>

